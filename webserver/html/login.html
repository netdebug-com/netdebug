
<!DOCTYPE html>
<html>
  <head>
    <title>
      NetDebug.com Stealth Mode Demo
    </title>
  </head>
 
  <body style="text-align:left;" id="body">
    <h1 style="color:blue;">
      Demo is password protected! (for now)
    </h1>
 
    <p>
        <!-- Making a text input -->
        <input type="password" id="passwd" placeholder="Password">
         
        <!-- Button to send data -->
        <button onclick="sendJSON()">Submit</button>
 
      <!-- For printing result from server -->
      <p class="result" style="color:blue"></p>
     
   </p>
 
  <script >
	function sendJSON(){
			let result = document.querySelector('.result');
			let name = document.querySelector('#name');
			let email = document.querySelector('#email');
			
			// Creating a XHR object
			let xhr = new XMLHttpRequest();
			let url = "login";
		
			// open a connection
			xhr.open("POST", url, true);

			// Set the request header i.e. which type of content you are sending
			xhr.setRequestHeader("Content-Type", "application/json");

			// Create a state change callback
			xhr.onreadystatechange = function () {
				if (xhr.readyState === 4 && xhr.status === 200) {
					// Print received data from server
					result.innerHTML = this.responseText;
					location.reload()  // reload the page once cookie is cached
				} else {
					// we would do better error handling if this code wasn't going away after launch
					result.innerHTML = `<b>Error Code=${xhr.status}</b> Maybe wrong password?`
				}
			};

			// Don't really care about username just yet
			var data = JSON.stringify({ "user": "ignore", "passwd": passwd.value });
 
			// Sending data with the request
			xhr.send(data);
		}
  </script>
 
  </body>
</html>